<?xml version="1.0" encoding="UTF-8"?>
<!--
Copyright (c) 2006 - 2017 Bruker BioSpin MRI GmbH. All Rights Reserved.
$Id$
Description: Layout of routine parameter editor for method FISP.
-->
<cardStack
    xmlns="http://www.bruker.de/mri/generated/xsd/card"
    xmlns:xi="http://www.w3.org/2001/XInclude">
    <parameterCard displayName="Routine">
        <column>
            <parameter name="PVM_EchoTime"/>
            <parameter name="PVM_RepetitionTime"/>
            <parameter name="PVM_NAverages"/>
            <parameter name="PVM_NRepetitions"/>
            <parameter name="PVM_ScanTimeStr"/>
            <textLine text=""/>
            <parameter name="Ssfp"/>
            <parameter name="PVM_RareFactor" displayName="Segment Size">
            <parameterCard displayName="Single Shot">
                <column>
                    <parameter name="KeepSteadyState3D"/>
                </column>
            </parameterCard>  
            </parameter>
            <parameter name="Nsegments"/>
            <parameter name="Seg_mode"/>
            <parameter name="YesNoMinScanRepTime"/>
            <parameter name="Scan_RepetitionTime"/>
            <parameter name="ExcPulse1.Flipangle" displayName="Flip Angle"/>
        </column>
        <column>
            <arrayGroup sizeParameterName="PVM_NSPacks" displayName="Slice Package" indexCouplingKey="BRUKER_SLICEPACKAGE">
                <parameter name="PVM_SPackArrNSlices"/>
                <parameter name="PVM_SPackArrSliceOrient"/>
                <parameter name="PVM_SPackArrReadOrient"/>
            </arrayGroup>
            <parameter name="PVM_SliceThick"/>
            <parameter name="PVM_Matrix"/>
            <parameter name="PVM_Fov"/>
        </column>
    </parameterCard>
    <parameterCard displayName="Contrast">
        <parameterCard displayName="Main">
            <column>
                <parameter name="PVM_EchoTime"/>
                <parameter name="PVM_RepetitionTime"/>
                <parameter name="ExcPulse1.Flipangle" displayName="Flip Angle"/>
                <parameter name="PhaseAdvance"/>
                <parameter name="Ssfp"/>
                <parameter name="Ssfp_preparation"/>
                <parameter name="FlipAngMz"/>
                <parameter name="PVM_DummyScans"/>
                <parameter name="PVM_RareFactor" displayName="Segment Size"/>      
                <parameter name="Nsegments"/>
                <parameter name="PVM_NMovieFrames"/>
                <parameter name="Const_separation"/>
            </column>
            <column>
                <parameter name="FISP_inversion_enable"/>
                <parameter name="PVM_EvolutionOnOff"/>
                <parameter name="PVM_TriggerModule"/>
                <parameter name="RFSpoilerOnOff"/>
                <textLine text=""/>
                <parameter name="Prescan_Delay"/>
                <parameter name="NumPrep"/>
                <parameter name="PVM_DummyScansDur"/>
                <parameter name="Seg_time"/>
                <textLine text=""/>      
                <parameter name="Seg_Sep_Fra_time"/>
            </column>
        </parameterCard>
        <parameterCard displayName="Inversion">
            <column>
                <parameter name="PVM_InversionTime"/>
                <parameter name="YesNoMinScanRepTime"/>
                <parameter name="Inv_Rep_time"/>
                <parameter name="InvPulse1Enum" displayName="Inversion Pulse">
                    <parameterCard displayName="Pulse Details">
                        <column>
                            <parameter name="InvPulse1"/>
                        </column>
                    </parameterCard>
                </parameter>
            </column>
            <column>
                <textLine text=""/>
            </column>
        </parameterCard>
        <xi:include href="file:///XML_INCLUDE_DIR/Evolution.xml"/>
        <xi:include href="file:///XML_INCLUDE_DIR/Trigg.xml"/>
    </parameterCard>
    <parameterCard displayName="Resolution">
        <xi:include href="file:///XML_INCLUDE_DIR/Resolution.xml"/>
        <xi:include href="file:///XML_INCLUDE_DIR/Encoding.xml"/>
    </parameterCard>
    <parameterCard displayName="Geometry">
        <parameterCard displayName="Main">
            <column>
                <parameter name="PVM_SliceThick"/>
                <parameter name="PVM_ObjOrderScheme"/>
                <parameter name="PVM_MajSliceOri"/>
                <textLine text=""/>
                <parameter name="PVM_Fov"/>
                <parameter name="PVM_AntiAlias"/>
		<parameter name="PVM_AtsBedPositionMode"/>
                <parameter name="PVM_AtsChangeRefPos" />
 		<parameter name="PVM_AtsNpos">
		  <parameterCard displayName="Position Details">
		    <column>
		      <parameter name="PVM_AtsShifts" />
		      <parameter name="PVM_AtsPositions" />
		    </column>
		  </parameterCard>
		</parameter>
		<parameter name="PVM_AtsOverlap" />
		<parameter name="PVM_AtsCentralSetup" />
            </column>
            <column>
                <arrayGroup displayName="Slice Package" sizeParameterName="PVM_NSPacks" indexCouplingKey="BRUKER_SLICEPACKAGE">
                    <parameter name="PVM_SPackArrNSlices"/>
                    <parameter name="PVM_SPackArrSliceOrient"/>
                    <parameter name="PVM_SPackArrReadOrient"/>
                    <parameter name="PVM_SPackArrReadOffset"/>
                    <parameter name="PVM_SPackArrPhase1Offset"/>
                    <parameter name="PVM_SPackArrSliceOffset"/>
                    <parameter name="PVM_SPackArrSliceGapMode"/>
                    <parameter name="PVM_SPackArrSliceGap"/>
                    <parameter name="PVM_SPackArrSliceDistance"/>
                </arrayGroup>
            </column>
        </parameterCard>
    </parameterCard>
    <parameterCard displayName="Sequence">
        <parameterCard displayName="Main">
            <column>
                <textLine text=""/>
                <parameter name="PVM_EffSWh"/>
                <parameter name="PVM_EchoPosition"/>
                <parameter name="ExcPulse1Enum" displayName="Excitation Pulse">
                    <parameterCard displayName="Pulse Details">
                        <column>
                            <parameter name="ExcPulse1"/>
                        </column>
                    </parameterCard>
                </parameter>
                <parameter name="InvPulse1Enum" displayName="Inversion Pulse">
                    <parameterCard displayName="Pulse Details">
                        <column>
                            <parameter name="InvPulse1"/>
                        </column>
                    </parameterCard>
                </parameter>
                <parameter name="SliceSpoiler.automatic" displayName="Auto Slice Spoiler">
                    <parameterCard displayName="Spoiler Details">
                        <column>
                            <parameter name="SliceSpoiler"/>
                        </column>
                    </parameterCard>
                </parameter>
                <parameter name="KeepSteadyState3D"/>
            </column>
            <column>
                <parameter name="Method"/>
                <parameter name="PVM_AcquisitionTime"/>
                <parameter name="EncGradDur"/>
            </column>
        </parameterCard>
        <xi:include href="file:///XML_INCLUDE_DIR/Freq1.xml"/>
        <xi:include href="file:///XML_INCLUDE_DIR/Tx1.xml"/>
    </parameterCard>
    <parameterCard displayName="Setup">
        <parameterCard displayName="Main">
            <column>
                <parameter name="PVM_RefPowMod1"/>
                <parameter name="PVM_RefPowCh1"/>
                <textLine text=""/>
                <parameter name="PVM_DeriveGains" displayName="Calc. Pulse Ampl."/>
                <parameter name="ExcPulse1Ampl.patt" displayName="Exc. Pulse Attenuation" widget="slider"/>
                <textLine text=""/>
                <parameter name="InvPulse1Ampl.patt" displayName="Inv. Pulse Attenuation" widget="slider"/>
		<textLine text=""/>
		<textLine text=""/>
		<parameter name="PVM_RgJob" />
		<parameter name="PVM_RgValue" widget="slider" />
            </column>
            <column>
                <textLine text=""/>
                <parameter name="PVM_RefPowStat1"/>
                <textLine text=""/>
                <textLine text=""/>
                <parameter name="ExcPulse1Ampl.ppow" displayName="Exc. Pulse Power"/>
                <parameter name="ExcPulse1Ampl.pampl" displayName="Exc. Pulse Amplitude"/>
                <parameter name="InvPulse1Ampl.ppow" displayName="Inv. Pulse Power"/>
                <parameter name="InvPulse1Ampl.pampl" displayName="Inv. Pulse Amplitude"/>
            </column>
        </parameterCard>
        <xi:include href="file:///XML_INCLUDE_DIR/mapshim.xml"/>
        <xi:include href="file:///XML_INCLUDE_DIR/Shim.xml"/>
    </parameterCard>
    <parameterCard displayName="Result" cardType="adjresult">
        <column>
            <parameter name="ACQ_jobs[0].receiverGain" displayName="Receiver Gain"/>
        </column>
        <column>
            <textLine text=""/>
        </column>
    </parameterCard>
    <parameterCard displayName="System">
        <xi:include href="file:///XML_INCLUDE_DIR/CoilSelection.xml"/>
    </parameterCard>
    <xi:include href="file:///XML_INCLUDE_DIR/RecoParameters.xml"/>
    <xi:include href="file:///XML_INCLUDE_DIR/CompressedSensing.xml"/>
</cardStack>
